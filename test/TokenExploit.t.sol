// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import 'forge-std/Test.sol';
import { Token } from '../src/tests/Token.sol';
import { TokenExploit } from '../src/TokenExploit.sol';

contract TokenTest is Test {
  Token token;
  TokenExploit exploit;
  address eoa = 0xD0CE7E521d26CAc35a7B10d31d6CCc7ffFF8B15e;
  address phone = 0xEb28B54CA7471b31Ff6b0d2751AB0C693a54aE1B;

  function setUp() public {
    token = new Token(eoa);
    vm.prank(eoa);
    exploit = new TokenExploit();
  }

  function testAttack() public {
    (bool happened, uint256 bal) = exploit.attack();
    assertTrue(happened);

    assertTrue(happened == true);
    assertTrue(bal > 21);
  }
}
